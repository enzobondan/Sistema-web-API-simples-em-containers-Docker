<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Cadastro de Projeto</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <h1>Cadastrar Projeto</h1>
    <div id="statusMessage" class="status-message"></div>
    <form id="formProjeto">
      <div class="title-group">
        <label for="title">Título:</label>
        <input type="text" id="title" name="title" required />
      </div>
      <div class="description-group">
        <label for="description">Descrição:</label>
        <textarea id="description" name="description" required></textarea>
      </div>
      <div class="inline-group">
        <div class="form-group category">
          <label for="category">Categoria:</label>
          <select id="category" name="category" required>
            <option value="">Selecione...</option>
            <option value="Desenvolvimento">Desenvolvimento</option>
            <option value="Pesquisa">Pesquisa</option>
            <option value="Design">Design</option>
          </select>
        </div>
        <div class="form-group team-size">
          <label for="team_size">Tamanho da equipe:</label>
          <input
            type="number"
            id="team_size"
            name="team_size"
            min="1"
            required
          />
        </div>
      </div>
      <div class="inline-group">
        <div class="form-group">
          <label for="budget">Orçamento:</label>
          <input
            type="text"
            id="budget"
            name="budget"
            placeholder="0,00"
            required
            oninput="formatCurrency(this)"
          />
        </div>
        <div class="form-group">
          <label for="deadline">Prazo final:</label>
          <input type="date" id="deadline" name="deadline" required />
        </div>
      </div>

      <button type="submit">Enviar</button>
    </form>

    <a href="/listagem" class="nav-link">Ver Lista de Projetos</a>
    <script>
      function formatCurrency(input) {
        let value = input.value.replace(/\D/g, "");
        if (!value) {
          input.value = "";
          return;
        }
        value = (parseInt(value, 10) / 100).toFixed(2);
        value = value.replace(".", ",");
        value = value.replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        input.value = value;
      }
    </script>
    <script src="/static/env.js"></script>
    <script src="/static/script_form.js"></script>
  </body>
</html>
